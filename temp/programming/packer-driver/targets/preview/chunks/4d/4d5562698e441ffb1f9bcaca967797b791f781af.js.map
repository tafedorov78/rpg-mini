{"version":3,"sources":["file:///Users/artemfedorov/Documents/dev/rpg-mini/assets/Scripts/scenes/GameScene.ts"],"names":["_decorator","Component","director","Node","TeamsBuilderComponent","Facade","EventManager","ccclass","property","GameScene","type","showNavigateButton","scheduleOnce","NavigateToMenuButton","active","onLoad","add","onDestroy","remove","start","init","battleData","onNavigateToMenu","loadScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;;AACjCC,MAAAA,qB,iBAAAA,qB;;AACFC,MAAAA,M;;AACAC,MAAAA,Y;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;2BAGjBS,S,WADZF,OAAO,CAAC,WAAD,C,UAGHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEP;AAAR,OAAD,C,UAGRK,QAAQ,CAAC;AAAEE,QAAAA,IAAI;AAAA;AAAA;AAAN,OAAD,C,2BANb,MACaD,SADb,SAC+BR,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAuBrCU,kBAvBqC,GAuBhB,MAAY;AAC7B,iBAAKC,YAAL,CAAkB,MAAM;AACpB,mBAAKC,oBAAL,CAA0BC,MAA1B,GAAmC,IAAnC;AACH,aAFD,EAEG,CAFH;AAGH,WA3BoC;AAAA;;AAQ3BC,QAAAA,MAAM,GAAS;AACrB;AAAA;AAAA,4CAAaC,GAAb,CAAiB,UAAjB,EAA6B,KAAKL,kBAAlC;AACH;;AAESM,QAAAA,SAAS,GAAS;AACxB;AAAA;AAAA,4CAAaC,MAAb,CAAoB,UAApB,EAAgC,KAAKP,kBAArC;AACH;;AAEDQ,QAAAA,KAAK,GAAG;AACJ,eAAKN,oBAAL,CAA0BC,MAA1B,GAAmC,KAAnC;AACA,eAAKF,YAAL,CAAkB,MAAM;AACpB,iBAAKR,qBAAL,CAA2BgB,IAA3B,CAAgC;AAAA;AAAA,kCAAOC,UAAvC;AACH,WAFD,EAEG,CAFH;AAGH;;AAQDC,QAAAA,gBAAgB,GAAG;AACf;AAAA;AAAA,4CAAaJ,MAAb,CAAoB,SAApB,EAA+B,KAAKP,kBAApC;AACAT,UAAAA,QAAQ,CAACqB,SAAT,CAAmB,eAAnB;AACH;;AAhCoC,O;;;;;iBAGD,I;;;;;;;iBAGkB,I","sourcesContent":["import { _decorator, Component, director, Node } from 'cc';\nimport { TeamsBuilderComponent } from '../components/TeamsBuilderComponent';\nimport Facade from '../Facade';\nimport EventManager from '../eventManager/EventManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameScene')\nexport class GameScene extends Component {\n\n    @property({ type: Node })\n    public NavigateToMenuButton: Node = null;\n\n    @property({ type: TeamsBuilderComponent })\n    public TeamsBuilderComponent: TeamsBuilderComponent = null;\n\n    protected onLoad(): void {\n        EventManager.add('roundEnd', this.showNavigateButton);\n    }\n\n    protected onDestroy(): void {\n        EventManager.remove('roundEnd', this.showNavigateButton);\n    }\n\n    start() {\n        this.NavigateToMenuButton.active = false;\n        this.scheduleOnce(() => {\n            this.TeamsBuilderComponent.init(Facade.battleData);\n        }, 1);\n    }\n\n    showNavigateButton = (): void => {\n        this.scheduleOnce(() => {\n            this.NavigateToMenuButton.active = true;\n        }, 2);\n    }\n\n    onNavigateToMenu() {\n        EventManager.remove('victory', this.showNavigateButton);\n        director.loadScene('MainMenuScene');\n    }\n\n\n}"]}